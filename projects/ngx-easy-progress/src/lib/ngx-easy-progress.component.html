<div *ngIf="mOptions.vertical;then vr else or"></div>

<ng-template #vr>
    <div class="outer vr" [ngStyle]="outerStyle">
        <div *ngIf="mBuffer;then hasBuffer else noBuffer"></div>
        <ng-template #hasBuffer>
            <div class="buffer-base" [ngStyle]="baseStyle"></div> 
            <div class="buffer" [ngStyle]="bufStyle" [class.invert]="mOptions.invert"></div> 
        </ng-template>
        <ng-template #noBuffer>
            <div class="base" [ngStyle]="baseStyle"></div> 
        </ng-template>

        <div class="progress" [class.invert]="mOptions.invert" [class.indeterminate]="mIndeterminate" [ngStyle]="barStyle"></div>
    </div>
</ng-template>
<ng-template #or>
    <div class="outer or" [ngStyle]="outerStyle">
        <div *ngIf="mBuffer;then hasBuffer else noBuffer"></div>
        <ng-template #hasBuffer>
            <div class="buffer-base" [ngStyle]="baseStyle"></div> 
            <div class="buffer" [ngStyle]="bufStyle" [class.invert]="mOptions.invert"></div> 
        </ng-template>
        <ng-template #noBuffer>
            <div class="base"[ngStyle]="baseStyle"></div> 
        </ng-template>

        <div class="progress" [class.invert]="mOptions.invert" [class.indeterminate]="mIndeterminate" [ngStyle]="barStyle"></div>
    </div>
</ng-template>